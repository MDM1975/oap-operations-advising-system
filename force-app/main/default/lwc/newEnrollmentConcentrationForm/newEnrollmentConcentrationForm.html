<template>
    <c-async-wrapper promise={programEnrollment} onresolved={handleResolved} onrejected={handleRejected}>
        <c-modal size="small" onclose={handleCancel}>
            <div class="slds-form">
                <div class="slds-text-align_center">
                    <span class="slds-text-heading_medium slds-p-bottom_small">New Concentration</span>
                </div>
                <div class="slds-p-around_small">
                    <div class="slds-grid slds-grid_vertical slds-grid_align-center">
                        <template lwc:if={hasConcentrationOptions}>
                            <div class="slds-col">
                                <lightning-combobox dropdown-alignment="auto" label="Concentrations"
                                    options={concentrationOptions} required="true" placeholder="Select a concentration"
                                    onchange={handleConcentrationChange}>
                                </lightning-combobox>
                            </div>
                            <div class="slds-col">
                                <div class="slds-grid slds-grid_align-center slds-gutters slds-p-top_small">
                                    <div class="slds-col">
                                        <lightning-button variant="destructive-text" label="Cancel"
                                            onclick={handleCancel}></lightning-button>
                                    </div>
                                    <div class="slds-col">
                                        <lightning-button variant="brand-outline" label="Save"
                                            onclick={handleSave}></lightning-button>
                                    </div>
                                </div>
                            </div>
                        </template>
                        <template lwc:else>
                            <div class="slds-col slds-text-align_center">
                                <div class="slds-grid slds-grid_align-center slds-p-around_medium">
                                    <div class="slds-col slds-p-horizontal_x-small">
                                        <lightning-icon icon-name="utility:info" size="small"></lightning-icon>
                                    </div>
                                    <div class="slds-col slds-p-horizontal_x-small">
                                        <span class="slds-text-color_weak">
                                            No Concentrations Available For {program}.
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </c-modal>
    </c-async-wrapper>
</template>